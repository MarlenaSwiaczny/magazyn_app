# HANDOVER

This document lists what is included in the handover package, how to run the app locally and in staging, and the acceptance criteria for the transfer.

## Repo layout (top-level)
- `client/` - React frontend (dev: `npm start`, build: `npm run build`)
- `server/` - Express backend (entry: `server/index.js`)
- `public/` - static public assets
- `scripts/` - maintenance scripts (generate-thumbs, migrate helpers, etc.)
- `prisma/` - Prisma schema and migrations

## Deliverables
The buyer receives:
- Full repository (branch `main`) including history unless otherwise agreed.
- `HANDOVER.md`, `README.md` and `.env.example` files for `server` and `client`.
- Instructions to run locally, build and basic deploy steps.
- Prisma schema and migrations.
- Basic CI suggestion and example workflow (not included by default).
- 30 days of optional support (if purchased) for handover issues.

## Quick start (development)

Prerequisites:

Server (from repo root):

```bash
cd server
cp .env.example .env
# edit .env to set DATABASE_URL and JWT_SECRET
npm ci
npm run dev  # uses nodemon
```

**Repository hygiene (important before handing over)**
- **Remove generated Prisma runtime from git:** some `server/generated` files are runtime/artifacts. Remove them from the repo history if possible, or at least untrack them and add to `.gitignore`.
- **Untrack backup files:** there are `.backup` and `schema.prisma.backup.*` files — add them to `.gitignore` and `git rm --cached` them to avoid leaking secrets or confusing migrations.
- **Secrets:** ensure no real secrets appear in commits. Rotate any leaked keys and add `.env` to `.gitignore`.

Client:
```bash
cd client
cp .env.example .env
# edit .env to set API base if necessary
npm ci
npm start
```

## Environment variables (examples)
- See `server/.env.example` and `client/.env.example`. Buyer must supply actual secrets.

## Database migrations & seed
- To run migrations (production):

```bash
cd server
npx prisma migrate deploy
# optional: run seed script if provided
node scripts/seedUser.js
```

## Uploads and storage
- Uploaded files are stored under `server/public/uploads` by default. In production we recommend using S3-compatible storage and update upload endpoints accordingly.

## API endpoints (overview)
- `POST /api/auth` - authentication
- `GET/POST /api/products` - list and add products (see `routes/products` for details)
- `PUT /api/products/:id` - update product
- `DELETE /api/products/:id` - delete product
- `POST /api/upload` - file upload
- `POST /api/products/import` - import endpoints (csv/xlsx)

For full request/response examples see `API.md` (if provided) or request OpenAPI export.

## Acceptance criteria for handover
Buyer acceptance will be based on the following checklist:
- Repository cloned and installs locally without secrets in repo.
- `server` and `client` start in development mode after populating `.env` with valid values.
- Database migrations run and seed data is applied (if requested).
- Basic flows work: list products, add product (with image upload), edit product, delete product.
- Documentation (`HANDOVER.md`, `.env.example`, `README.md`) present and readable.

## Post-handover support (optional)
- 30 days: minor bug fixes and help with deployment (hourly/retainer)
- 60–90 days: extended support / small feature work (rate to be negotiated)

## Notes and limitations
- Generated files (Prisma client) may be included in this repo; buyer should run `npm ci` and `npx prisma generate` to ensure correct runtime.
- This handover does not include third-party paid services (hosting costs, S3, external APIs).

---
Generated by the project maintainer to assist a clean transfer. If buyer requests additional artifacts (CI, monitoring configuration, infra templates) these can be provided as an additional deliverable.
